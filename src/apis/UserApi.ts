/* tslint:disable */
/* eslint-disable */
/**
 * SourceCraft API
 * Bleeding edge of Public REST API of SourceCraft
 *
 * The version of the OpenAPI document: 0.0.1
 * Contact: info@sourcecraft.dev
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */

import * as runtime from "../runtime";
import type { ApiErrorResponse, UserProfile } from "../models/index";
import {
    ApiErrorResponseFromJSON,
    ApiErrorResponseToJSON,
    UserProfileFromJSON,
    UserProfileToJSON,
} from "../models/index";

export interface GetProfileRequest {
    userSlug: string;
    userId?: string;
}

export interface GetProfileByIDRequest {
    userId: string;
    userSlug?: string;
}

/**
 * UserApi - interface
 *
 * @export
 * @interface UserApiInterface
 */
export interface UserApiInterface {
    /**
     *
     * @param {string} userSlug
     * @param {string} [userId]
     * @param {*} [options] Override http request option.
     * @throws {RequiredError}
     * @memberof UserApiInterface
     */
    getProfileRaw(
        requestParameters: GetProfileRequest,
        initOverrides?: RequestInit | runtime.InitOverrideFunction
    ): Promise<runtime.ApiResponse<UserProfile>>;

    /**
     */
    getProfile(
        requestParameters: GetProfileRequest,
        initOverrides?: RequestInit | runtime.InitOverrideFunction
    ): Promise<UserProfile>;

    /**
     *
     * @param {string} userId
     * @param {string} [userSlug]
     * @param {*} [options] Override http request option.
     * @throws {RequiredError}
     * @memberof UserApiInterface
     */
    getProfileByIDRaw(
        requestParameters: GetProfileByIDRequest,
        initOverrides?: RequestInit | runtime.InitOverrideFunction
    ): Promise<runtime.ApiResponse<UserProfile>>;

    /**
     */
    getProfileByID(
        requestParameters: GetProfileByIDRequest,
        initOverrides?: RequestInit | runtime.InitOverrideFunction
    ): Promise<UserProfile>;
}

/**
 *
 */
export class UserApi extends runtime.BaseAPI implements UserApiInterface {
    /**
     */
    async getProfileRaw(
        requestParameters: GetProfileRequest,
        initOverrides?: RequestInit | runtime.InitOverrideFunction
    ): Promise<runtime.ApiResponse<UserProfile>> {
        if (requestParameters["userSlug"] == null) {
            throw new runtime.RequiredError(
                "userSlug",
                'Required parameter "userSlug" was null or undefined when calling getProfile().'
            );
        }

        const queryParameters: any = {};

        if (requestParameters["userId"] != null) {
            queryParameters["user_id"] = requestParameters["userId"];
        }

        const headerParameters: runtime.HTTPHeaders = {};

        if (this.configuration && this.configuration.accessToken) {
            const token = this.configuration.accessToken;
            const tokenString = await token("bearerAuth", []);

            if (tokenString) {
                headerParameters["Authorization"] = `Bearer ${tokenString}`;
            }
        }

        let urlPath = `/users/{user_slug}`;
        urlPath = urlPath.replace(
            `{${"user_slug"}}`,
            encodeURIComponent(String(requestParameters["userSlug"]))
        );

        const response = await this.request(
            {
                path: urlPath,
                method: "GET",
                headers: headerParameters,
                query: queryParameters,
            },
            initOverrides
        );

        return new runtime.JSONApiResponse(response, (jsonValue) => UserProfileFromJSON(jsonValue));
    }

    /**
     */
    async getProfile(
        requestParameters: GetProfileRequest,
        initOverrides?: RequestInit | runtime.InitOverrideFunction
    ): Promise<UserProfile> {
        const response = await this.getProfileRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     */
    async getProfileByIDRaw(
        requestParameters: GetProfileByIDRequest,
        initOverrides?: RequestInit | runtime.InitOverrideFunction
    ): Promise<runtime.ApiResponse<UserProfile>> {
        if (requestParameters["userId"] == null) {
            throw new runtime.RequiredError(
                "userId",
                'Required parameter "userId" was null or undefined when calling getProfileByID().'
            );
        }

        const queryParameters: any = {};

        if (requestParameters["userSlug"] != null) {
            queryParameters["user_slug"] = requestParameters["userSlug"];
        }

        const headerParameters: runtime.HTTPHeaders = {};

        if (this.configuration && this.configuration.accessToken) {
            const token = this.configuration.accessToken;
            const tokenString = await token("bearerAuth", []);

            if (tokenString) {
                headerParameters["Authorization"] = `Bearer ${tokenString}`;
            }
        }

        let urlPath = `/users/id:{user_id}`;
        urlPath = urlPath.replace(
            `{${"user_id"}}`,
            encodeURIComponent(String(requestParameters["userId"]))
        );

        const response = await this.request(
            {
                path: urlPath,
                method: "GET",
                headers: headerParameters,
                query: queryParameters,
            },
            initOverrides
        );

        return new runtime.JSONApiResponse(response, (jsonValue) => UserProfileFromJSON(jsonValue));
    }

    /**
     */
    async getProfileByID(
        requestParameters: GetProfileByIDRequest,
        initOverrides?: RequestInit | runtime.InitOverrideFunction
    ): Promise<UserProfile> {
        const response = await this.getProfileByIDRaw(requestParameters, initOverrides);
        return await response.value();
    }
}
